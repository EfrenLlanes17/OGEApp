@page "/"

@rendermode InteractiveServer

<PageTitle>Upload</PageTitle>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

<style>
    body {
        background-color: black;
        color: white;
        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
    }
</style>

<h1 style="font-weight: bold; text-align: center; ">Welcome To</h1>

<img src="https://www.marketbeat.com/logos/oge-energy-corp-logo.jpg" alt="Inflow Logo" width="75" height="25" style="align-content: center;">


<label for="fileUpload" class="btn btn-primary rounded-pill"
       style="background-color: black; color: white; font-weight: bold; font-size: 20px; width: 15%; border-width: 1mm; border-color: white; cursor: pointer; text-align: center;">
    Upload File
    <InputFile id="fileUpload" OnChange="HandleFileSelected" accept=".csv" style="display: none;" />
</label>

<pre>@fileCSVHandler.fileContents</pre>

@code {


    public class fileCSVHandler{

        public static string fileContents { get; set; } = "Default Value";

        public event Action OnChange;

         public void SetFileValue(string value)
    {
        fileContents = value;
        NotifyStateChanged();
    }

    private void NotifyStateChanged() => OnChange?.Invoke();



    }




    private string csvContent;

    private async Task HandleFileSelected(InputFileChangeEventArgs e)
    {
        var file = e.File;
        if (file != null)
        {
            using (var stream = file.OpenReadStream())
            using (var reader = new StreamReader(stream))
            {
                fileCSVHandler.fileContents = await reader.ReadToEndAsync();
            }
        }
    }
}





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


