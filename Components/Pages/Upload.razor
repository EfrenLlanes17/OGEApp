@page "/"

@rendermode InteractiveServer

<PageTitle>Upload</PageTitle>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

<style>
    body {
        background-color: black;
        color: white;
        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
    }
</style>

<h1 style="font-weight: bold; text-align: center; ">Welcome To</h1>

<img src="https://www.marketbeat.com/logos/oge-energy-corp-logo.jpg" alt="Inflow Logo" width="75" height="25" style="align-content: center;">


<label for="fileUpload" class="btn btn-primary rounded-pill"
       style="background-color: black; color: white; font-weight: bold; font-size: 20px; width: 15%; border-width: 1mm; border-color: white; cursor: pointer; text-align: center;">
    Upload File
    <InputFile id="fileUpload" OnChange="HandleFileUpload" accept=".csv" style="display: none;" />
</label>



@* <pre>@fileCSVHandler.fileContents</pre> *@
@* <pre>@fileCSVHandler.ConvertCsvTo2DArray(fileCSVHandler.fileContents)[0,0]</pre> *@

@* [0,0] is top left corner
[1,0] is one down from top left corner 
set up as [y,x] i know its goofy sorry*@

@if (strings.Count > 0)
{
    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th>Event Title</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var entry in strings)
            {
                <tr>
                    <td>@entry</td>
                </tr>
            }
        </tbody>
    </table>
}

@code {


    List<string> strings = new List<string>();
 
   private async Task HandleFileUpload(InputFileChangeEventArgs e)
    {
        var file = e.File;
        if (file == null) return;

        using var stream = file.OpenReadStream(maxAllowedSize: 1024 * 1024 * 100); // 100 MB limit
        using var reader = new StreamReader(stream);

        string line;
        while ((line = await reader.ReadLineAsync()) != null)
        {
            // Process each line (e.g., parse CSV)
            var columns = line.Split(',');
            Console.WriteLine(line);
        }
    }
    
}





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


